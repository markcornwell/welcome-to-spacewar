{"ast":null,"code":"import _slicedToArray from\"/Users/mark/welcome/welcome-to-spacewar/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _regeneratorRuntime from\"/Users/mark/welcome/welcome-to-spacewar/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import React,{useState}from\"react\";import\"./styles.css\";var gameList=[];function fetchGames(){var promise,json;return _regeneratorRuntime.async(function fetchGames$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return _regeneratorRuntime.awrap(fetch('http://localhost:4999/ls'));case 3:promise=_context.sent;_context.next=6;return _regeneratorRuntime.awrap(promise.json());case 6:json=_context.sent;gameList=Object.values(json);_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.log('fetch failed',_context.t0);return _context.abrupt(\"return\",_context.t0);case 14:case\"end\":return _context.stop();}}},null,null,[[0,10]]);}export default function App(){var _useState=useState(\"welcome\"),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var gameItem=function gameItem(_ref){var number=_ref.number,issued=_ref.issued;return React.createElement(\"li\",{key:number},React.createElement(\"a\",{href:\"localhost:5555/\"},\"game#\",number,\" issued \",issued));};function GameList(){fetchGames();console.log('gameList',gameList);return React.createElement(\"ul\",null,gameList.map(gameItem));}function welcome(){return React.createElement(\"div\",null,React.createElement(\"h1\",null,\"Welcome to Spacewar!\"),React.createElement(\"h2\",null,\"A tribute to the 1962 game developed for the PDP-1\"),React.createElement(\"br\",null),\" ------------- \",React.createElement(\"br\",null),React.createElement(\"button\",{className:\"myButton\",onClick:function onClick(){return setState(\"localplay\");}},\"Local Play\"),React.createElement(\"br\",null),\" ------------- \",React.createElement(\"br\",null),React.createElement(\"button\",{className:\"myButton\",onClick:function onClick(){return setState(\"networkplay\");}},\"Network Play\"),React.createElement(\"br\",null),\" ------------- \",React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"p\",null,\"Spaceships Wedge and Needle battle it out while orbiting a black hole\"),React.createElement(\"p\",null,\"State = \",state,\" \"));}function dispatch(state){switch(state){case\"welcome\":return welcome();case\"localplay\":return localPlay();case\"networkplay\":return networkPlay();case\"startlocal\":return startLocal();case\"creategame\":return createGame();case\"joingame\":return joinGame();default:console.log(\"missing case in dispatch\");}}function localPlay(){return React.createElement(\"div\",{className:\"LocalPlay\"},React.createElement(\"h1\",null,\"Spacewar!\"),React.createElement(\"h2\",null,\"LocalPlay\"),React.createElement(\"p\",null,\"For local play, both players will share the same keyboard.\"),React.createElement(\"br\",null),\" ------------- \",React.createElement(\"br\",null),React.createElement(\"p\",null,\"Player 1: W = fire, A = rotate left, S = rocket burn, D = rotate right\"),React.createElement(\"p\",null,\"Player 2: I = fire, J = rotate left, K = rocket burn , L = rotate right\"),React.createElement(\"br\",null),\" ------------- \",React.createElement(\"br\",null),React.createElement(\"button\",{className:\"myButton\",onClick:function onClick(){return setState(\"startlocal\");}},\"Start Local Game\"),React.createElement(\"br\",null),\" ------------- \",React.createElement(\"br\",null),React.createElement(\"button\",{className:\"myButton\",onClick:function onClick(){return setState(\"welcome\");}},\"Back\"));}function startLocal(){return React.createElement(\"div\",null,React.createElement(\"h1\",null,\"Spacewar!\"),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"a\",{href:\"http://malfax.net\",target:\"_blank\",rel:\"noopener noreferrer\"},\"Start\"),React.createElement(\"br\",null),\" ------------- \",React.createElement(\"br\",null),React.createElement(\"button\",{className:\"myButton\",onClick:function onClick(){return setState(\"welcome\");}},\"Back\"));}function networkPlay(){return React.createElement(\"div\",{className:\"NetworkPlay\"},React.createElement(\"h1\",null,\"Spacewar!\"),React.createElement(\"h2\",null,\"Network Play\"),React.createElement(\"h3\",null,\"Select an option below\"),React.createElement(\"br\",null),\" ------------- \",React.createElement(\"br\",null),React.createElement(\"button\",{className:\"myButton\",onClick:function onClick(){return setState(\"creategame\");}},\"Create a new game\"),React.createElement(\"br\",null),\" ------------- \",React.createElement(\"br\",null),React.createElement(\"button\",{className:\"myButton\",onClick:function onClick(){return setState(\"joingame\");}},\"Join an existing game\"),React.createElement(\"br\",null),\" ------------- \",React.createElement(\"br\",null),React.createElement(\"div\",{id:\"challenges\"},React.createElement(GameList,null)),React.createElement(\"br\",null),\" ------------- \",React.createElement(\"br\",null),React.createElement(\"button\",{className:\"myButton\",onClick:function onClick(){return setState(\"welcome\");}},\"Back\"));}function createGame(){return React.createElement(\"div\",null,React.createElement(\"h1\",null,\"Spacewar!\"),React.createElement(\"h2\",null,\"New game\"),React.createElement(\"br\",null),\" ------------- \",React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"p\",null,\"Game #47 Created\"),React.createElement(\"p\",null,\"Waiting for Player 2 to Join\"),React.createElement(\"br\",null),\" ------------- \",React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"button\",{className:\"myButton\",onClick:function onClick(){return setState(\"welcome\");}},\"Back\"));}function joinGame(){return React.createElement(\"div\",null,React.createElement(\"h1\",null,\"Spacewar!\"),React.createElement(\"h2\",null,\"Select a game to join\"),React.createElement(\"br\",null),\" ------------- \",React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"p\",null,\"first available\"),React.createElement(\"p\",null,\"a picklist of existing games\"),React.createElement(\"p\",null,\"Waiting for Player 2 to Join\"),React.createElement(\"br\",null),\" ------------- \",React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"button\",{className:\"myButton\",onClick:function onClick(){return setState(\"welcome\");}},\"Back\"));}return React.createElement(\"div\",{className:\"App\"},React.createElement(\"div\",null,dispatch(state)));}","map":{"version":3,"sources":["/Users/mark/welcome/welcome-to-spacewar/src/App.js"],"names":["React","useState","gameList","fetchGames","fetch","promise","json","Object","values","console","log","App","state","setState","gameItem","number","issued","GameList","map","welcome","dispatch","localPlay","networkPlay","startLocal","createGame","joinGame"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport \"./styles.css\";\n\nlet gameList = [];\n\nasync function fetchGames() {\n  try {\n    let promise = await fetch('http://localhost:4999/ls');\n    let json =  await promise.json();\n    gameList = Object.values(json)\n  }\n  catch (err) {\n    console.log('fetch failed', err);\n    return err\n  }\n}\n\nexport default function App() {\n  const [state, setState] = useState(\"welcome\");\n\n  const gameItem = ({number, issued}) => { \n    return (<li key={number}><a href=\"localhost:5555/\">game#{number} issued {issued}</a></li> )\n  }\n\n  function GameList() {\n    fetchGames();\n    console.log('gameList',gameList);\n    return(\n      <ul>\n        { gameList.map(gameItem) }\n      </ul>\n    )\n  }\n\n  function welcome() {\n    return (\n      <div>\n        <h1>Welcome to Spacewar!</h1>\n        <h2>A tribute to the 1962 game developed for the PDP-1</h2>\n        <br /> ------------- <br />\n        <button className=\"myButton\" onClick={() => setState(\"localplay\")}>\n          Local Play\n        </button>\n        <br/> ------------- <br />\n        <button className=\"myButton\" onClick={() => setState(\"networkplay\")}>\n          Network Play\n        </button>\n        <br/> ------------- <br />\n        <br />\n        <br />\n        <br />\n        <p>\n          Spaceships Wedge and Needle battle it out while orbiting a black hole\n        </p>\n        <p>State = {state} </p>\n      </div>\n    );\n  }\n\n  function dispatch(state) {\n    switch (state) {\n      case \"welcome\":\n        return welcome();\n      case \"localplay\":\n        return localPlay();\n      case \"networkplay\":\n        return networkPlay();\n      case \"startlocal\":\n        return startLocal();\n      case \"creategame\":\n        return createGame();\n      case \"joingame\":\n        return joinGame();\n      default:\n        console.log(\"missing case in dispatch\");\n    }\n  }\n\n  function localPlay() {\n    return (\n      <div className=\"LocalPlay\">\n        <h1>Spacewar!</h1>\n        <h2>LocalPlay</h2>\n        <p>For local play, both players will share the same keyboard.</p>\n        <br /> ------------- <br />\n        <p>\n          Player 1: W = fire, A = rotate left, S = rocket burn, D = rotate right\n        </p>\n        <p>\n          Player 2: I = fire, J = rotate left, K = rocket burn , L = rotate\n          right\n        </p>\n        <br /> ------------- <br />\n        <button className=\"myButton\" onClick={() => setState(\"startlocal\")}>\n          Start Local Game\n        </button>\n        <br /> ------------- <br />\n        <button className=\"myButton\" onClick={() => setState(\"welcome\")}>\n          Back\n        </button>\n      </div>\n    );\n  }\n\n  function startLocal() {\n    return (\n      <div>\n        <h1>Spacewar!</h1>\n        <br />\n        <br />\n        <a href=\"http://malfax.net\" target=\"_blank\" rel=\"noopener noreferrer\">\n          Start\n        </a>\n        <br /> ------------- <br />\n        <button className=\"myButton\" onClick={() => setState(\"welcome\")}>\n          Back\n        </button>\n      </div>\n    );\n  }\n\n  function networkPlay() {\n    return (\n      <div className=\"NetworkPlay\">\n        <h1>Spacewar!</h1>\n        <h2>Network Play</h2>\n        <h3>Select an option below</h3>\n        <br /> ------------- <br />\n        <button className=\"myButton\" onClick={() => setState(\"creategame\")}>\n          Create a new game\n        </button>\n        <br /> ------------- <br />\n        <button className=\"myButton\" onClick={() => setState(\"joingame\")}>\n          Join an existing game\n        </button>\n        <br/> ------------- <br/>\n        <div id=\"challenges\">\n          <GameList />\n        </div>\n        <br/> ------------- <br/>\n        <button className=\"myButton\" onClick={() => setState(\"welcome\")}>\n          Back\n        </button>\n      </div>\n    );\n  }\n\n\n\n  function createGame() {\n    return (\n      <div>\n        <h1>Spacewar!</h1>\n        <h2>New game</h2>\n        <br /> ------------- <br />\n        <br />\n        <br />\n        <p>Game #47 Created</p>\n        <p>Waiting for Player 2 to Join</p>\n        <br /> ------------- <br />\n        <br />\n        <br />\n        <button className=\"myButton\" onClick={() => setState(\"welcome\")}>\n          Back\n        </button>\n      </div>\n    );\n  }\n\n  function joinGame() {\n    return (\n      <div>\n        <h1>Spacewar!</h1>\n        <h2>Select a game to join</h2>\n        <br /> ------------- <br />\n        <br />\n        <br />\n        <p>first available</p>\n        <p>a picklist of existing games</p>\n        <p>Waiting for Player 2 to Join</p>\n        <br /> ------------- <br />\n        <br />\n        <br />\n        <button className=\"myButton\" onClick={() => setState(\"welcome\")}>\n          Back\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"App\">\n      <div>{dispatch(state)}</div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}